let backgroundSketch,heroSketch,footerSketch;const SETTINGS={isMobile:window.innerWidth<768,isLowPower:window.matchMedia("(prefers-reduced-motion: reduce)").matches,particleCount:{desktop:50,mobile:15,lowPower:10},speed:{desktop:1,mobile:.5,lowPower:.2},animate:{default:!0,lowPower:!1},opacity:{default:.6,lowPower:.3}};function initBackgroundSketch(e){const t=[];return new p5(o=>{o.setup=()=>{const n=e.offsetWidth,i=e.offsetHeight,r=o.createCanvas(n,i);r.parent(e);const s=SETTINGS.isMobile?SETTINGS.particleCount.mobile:SETTINGS.isLowPower?SETTINGS.particleCount.lowPower:SETTINGS.particleCount.desktop;for(let e=0;e<s;e++)t.push(createParticle(o,n,i,.5))},o.draw=()=>{o.clear(),t.forEach(e=>{(SETTINGS.animate.default&&!SETTINGS.isLowPower||SETTINGS.animate.lowPower)&&(e.x+=e.speedX,e.y+=e.speedY,e.x>o.width+50?e.x=-50:e.x<-50&&(e.x=o.width+50),e.y>o.height+50?e.y=-50:e.y<-50&&(e.y=o.height+50)),o.noStroke(),o.fill(245,230,66,50*e.opacity),o.circle(e.x,e.y,e.size)})},o.windowResized=()=>{const n=e.offsetWidth,i=e.offsetHeight;o.resizeCanvas(n,i)}})}function initHeroSketch(e){const t=[];return new p5(o=>{let n;o.setup=()=>{const i=e.offsetWidth,r=e.offsetHeight;n=o.createCanvas(i,r),n.parent(e);const s=SETTINGS.isMobile?SETTINGS.particleCount.mobile:SETTINGS.isLowPower?SETTINGS.particleCount.lowPower:SETTINGS.particleCount.desktop;for(let e=0;e<s;e++)t.push(createParticle(o,i,r,1))},o.draw=()=>{o.clear(),t.forEach(e=>{(SETTINGS.animate.default&&!SETTINGS.isLowPower||SETTINGS.animate.lowPower)&&(e.x+=e.speedX/1.5,e.y+=e.speedY/1.5,e.x>o.width+50?e.x=-50:e.x<-50&&(e.x=o.width+50),e.y>o.height+50?e.y=-50:e.y<-50&&(e.y=o.height+50)),o.noStroke(),o.fill(255,56,96,70*e.opacity),o.circle(e.x,e.y,e.size)})},o.windowResized=()=>{const n=e.offsetWidth,i=e.offsetHeight;o.resizeCanvas(n,i)}})}function initFooterSketch(e){const t=[];return new p5(n=>{n.setup=()=>{const o=e.offsetWidth,i=e.offsetHeight,r=n.createCanvas(o,i);r.parent(e);const s=SETTINGS.isMobile?SETTINGS.particleCount.mobile:SETTINGS.isLowPower?SETTINGS.particleCount.lowPower:SETTINGS.particleCount.desktop;for(let e=0;e<s;e++)t.push(createParticle(n,o,i,.7))},n.draw=()=>{n.clear(),t.forEach(e=>{(SETTINGS.animate.default&&!SETTINGS.isLowPower||SETTINGS.animate.lowPower)&&(e.x+=e.speedX/2,e.y+=e.speedY/2,e.x>n.width+50?e.x=-50:e.x<-50&&(e.x=n.width+50),e.y>n.height+50?e.y=-50:e.y<-50&&(e.y=n.height+50)),n.noStroke(),n.fill(0,0,0,40*e.opacity),n.circle(e.x,e.y,e.size)})},n.windowResized=()=>{const o=e.offsetWidth,i=e.offsetHeight;n.resizeCanvas(o,i)}})}function createParticle(e,t,o,n=1){const i=SETTINGS.isMobile?SETTINGS.speed.mobile:SETTINGS.isLowPower?SETTINGS.speed.lowPower:SETTINGS.speed.desktop;return{x:e.random(t),y:e.random(o),size:e.random(3,8)*n,speedX:e.random(-1,1)*i,speedY:e.random(-1,1)*i,opacity:SETTINGS.isLowPower?SETTINGS.opacity.lowPower:SETTINGS.opacity.default*e.random(.6,1)}}function initializeP5Elements(){const e=document.getElementById("background-canvas"),t=document.getElementById("p5-container"),o=document.getElementById("p5-container-footer");t&&(heroSketch=initHeroSketch(t)),window.addEventListener("load",()=>{e&&setTimeout(()=>{backgroundSketch=initBackgroundSketch(e)},500),o&&setTimeout(()=>{footerSketch=initFooterSketch(o)},1500),document.addEventListener("visibilitychange",()=>{"hidden"===document.visibilityState?(e&&e.style.setProperty("opacity","0"),t&&t.style.setProperty("opacity","0"),o&&o.style.setProperty("opacity","0")):(e&&e.style.setProperty("opacity",".3"),t&&t.style.setProperty("opacity",".2"),o&&o.style.setProperty("opacity",".2"))})})}"loading"!==document.readyState?initializeP5Elements():document.addEventListener("DOMContentLoaded",initializeP5Elements); 